# ğŸ” Analizador de Vulnerabilidades de CÃ³digo

## DescripciÃ³n

El **Analizador de Vulnerabilidades de CÃ³digo** es una aplicaciÃ³n web educativa interactiva que permite a estudiantes y profesionales de ciberseguridad estudiar vulnerabilidades de cÃ³digo mediante ejemplos prÃ¡cticos. Los usuarios pueden visualizar cÃ³digo fuente con sintaxis resaltada y seleccionar las lÃ­neas especÃ­ficas donde se encuentran las vulnerabilidades.

Esta herramienta complementa el [Quiz de Seguridad de Software](quiz.html) existente, expandiendo las capacidades educativas desde preguntas teÃ³ricas hacia anÃ¡lisis prÃ¡ctico de cÃ³digo. **Se han extraÃ­do e integrado todas las preguntas con cÃ³digo del quiz principal (10 preguntas) junto con 3 ejemplos originales, totalizando 13 preguntas interactivas.**

## âœ¨ CaracterÃ­sticas Principales

### ğŸ¯ Funcionalidades Core
- **VisualizaciÃ³n de cÃ³digo** con sintaxis resaltada usando highlight.js
- **SelecciÃ³n interactiva** de lÃ­neas de cÃ³digo vulnerables
- **RetroalimentaciÃ³n educativa** detallada con explicaciones
- **Soporte multi-lenguaje**: C, C++, Java, JavaScript, Python, PHP, SQL, C#
- **NavegaciÃ³n entre preguntas** con filtros por dificultad, categorÃ­a y lenguaje
- **EstadÃ­sticas de progreso** y precisiÃ³n del usuario

### ğŸ›¡ï¸ Seguridad y Accesibilidad
- **Content Security Policy (CSP)** para prevenir XSS
- **Escape de HTML** para contenido dinÃ¡mico
- **NavegaciÃ³n por teclado** completa
- **Soporte para lectores de pantalla** con ARIA labels
- **DiseÃ±o responsive** para dispositivos mÃ³viles
- **Cumplimiento WCAG 2.1** AA

### ğŸ“š Contenido Educativo
- **Ejemplos reales** de vulnerabilidades de cÃ³digo
- **Explicaciones detalladas** de cada vulnerabilidad
- **InformaciÃ³n de explotaciÃ³n** y mitigaciÃ³n
- **CÃ³digo seguro alternativo** como referencia
- **Referencias a CWE** y categorÃ­as OWASP
- **MÃºltiples niveles de dificultad**

## ğŸ—ï¸ Arquitectura

### Componentes Principales

```
VulnerabilityAnalyzerApp
â”œâ”€â”€ CodeRenderer          # Renderizado de cÃ³digo con sintaxis
â”œâ”€â”€ SelectionManager      # GestiÃ³n de selecciÃ³n de lÃ­neas
â”œâ”€â”€ FeedbackSystem       # Sistema de retroalimentaciÃ³n
â””â”€â”€ QuestionManager      # GestiÃ³n de preguntas y navegaciÃ³n
```

### Estructura de Archivos

```
/
â”œâ”€â”€ vulnerability-analyzer.html    # AplicaciÃ³n principal
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ interfaces.js             # Interfaces y tipos de datos
â”‚   â”œâ”€â”€ code-renderer.js          # Componente de renderizado
â”‚   â”œâ”€â”€ selection-manager.js      # GestiÃ³n de selecciones
â”‚   â”œâ”€â”€ feedback-system.js        # Sistema de retroalimentaciÃ³n
â”‚   â”œâ”€â”€ question-manager.js       # GestiÃ³n de preguntas
â”‚   â””â”€â”€ app.js                    # Controlador principal
â””â”€â”€ test-vulnerability-analyzer.html  # Tests bÃ¡sicos
```

## ğŸš€ Uso

### Inicio RÃ¡pido

1. **Abrir directamente en navegador**:
   ```bash
   open vulnerability-analyzer.html
   ```

2. **O servir con servidor local**:
   ```bash
   npm start
   # Navegar a http://localhost:3000/vulnerability-analyzer.html
   ```

### Flujo de Uso

1. **Visualizar cÃ³digo**: El cÃ³digo se muestra con sintaxis resaltada y numeraciÃ³n de lÃ­neas
2. **Seleccionar lÃ­neas**: Hacer clic en las lÃ­neas que contienen vulnerabilidades
3. **Verificar respuesta**: Usar el botÃ³n "Verificar Respuesta" para obtener retroalimentaciÃ³n
4. **Aprender**: Revisar la explicaciÃ³n detallada de la vulnerabilidad
5. **Navegar**: Usar los controles de navegaciÃ³n para ir a la siguiente pregunta

### Controles de Teclado

- **Ctrl/Cmd + â†/â†’**: Navegar entre preguntas
- **Ctrl/Cmd + Enter**: Verificar respuesta
- **â†‘/â†“**: Navegar entre lÃ­neas de cÃ³digo
- **Enter/Espacio**: Seleccionar/deseleccionar lÃ­nea
- **Tab**: NavegaciÃ³n estÃ¡ndar por elementos

## ğŸ“Š Tipos de Vulnerabilidades Incluidas

| Tipo | Preguntas | Lenguajes | Dificultad | DescripciÃ³n |
|------|-----------|-----------|------------|-------------|
| **Buffer Overflow** | 2 | C, C++ | Intermedio-Avanzado | Desbordamiento de buffer y acceso fuera de lÃ­mites |
| **SQL Injection** | 2 | PHP, C# | BÃ¡sico-Intermedio | InyecciÃ³n de cÃ³digo SQL malicioso |
| **Cross-Site Scripting (XSS)** | 1 | JavaScript | BÃ¡sico | InyecciÃ³n de scripts en aplicaciones web |
| **Input Validation** | 2 | Java, C | Intermedio | ValidaciÃ³n inadecuada de entrada de usuario |
| **DNS Validation** | 1 | C | Avanzado | Vulnerabilidades en validaciÃ³n DNS |
| **Path Validation** | 1 | Java | BÃ¡sico | ValidaciÃ³n de rutas de archivos |
| **Integer Overflow** | 1 | C | Avanzado | Desbordamiento de enteros |
| **Information Disclosure** | 1 | Java | Intermedio | ExposiciÃ³n de informaciÃ³n sensible |
| **Race Conditions** | 1 | C | Avanzado | Condiciones de carrera TOCTOU |
| **Use After Free** | 1 | C | Avanzado | Uso de memoria despuÃ©s de liberarla |
| **Off by One** | 1 | C | Intermedio | Errores de lÃ­mites por uno |

**Total: 13 preguntas** (3 originales + 10 extraÃ­das del quiz principal)

## ğŸ§ª Testing

### Tests Incluidos

El proyecto incluye tests bÃ¡sicos para validar:

- **Escape de HTML**: PrevenciÃ³n de XSS
- **ValidaciÃ³n de preguntas**: Estructura de datos
- **ValidaciÃ³n de respuestas**: LÃ³gica de correcciÃ³n
- **Utilidades de arrays**: Funciones auxiliares

### Ejecutar Tests

```bash
# Abrir pÃ¡gina de tests
open test-vulnerability-analyzer.html

# Los tests se ejecutan automÃ¡ticamente al cargar la pÃ¡gina
```

### Tests Futuros (Planificados)

- **Property-based tests** con 100+ iteraciones
- **Tests de accesibilidad** automatizados
- **Tests cross-browser** con Playwright
- **Tests de rendimiento** para cÃ³digo grande
- **Tests de integraciÃ³n** end-to-end

## ğŸ”§ ConfiguraciÃ³n y PersonalizaciÃ³n

### Agregar Nuevas Preguntas

Las preguntas se definen en `js/app.js` en el mÃ©todo `createSampleQuestions()`:

```javascript
{
    id: 4,
    title: "Nueva Vulnerabilidad",
    language: "python",
    difficulty: "intermediate",
    category: "command-injection",
    context: "Contexto de la pregunta...",
    code: `import os
user_input = input("Enter command: ")
os.system(user_input)  # Vulnerable line`,
    vulnerableLines: [3],
    vulnerabilityType: "Command Injection",
    cweid: "CWE-78",
    owaspCategory: "A03:2021 â€“ Injection",
    question: "Â¿DÃ³nde estÃ¡ la vulnerabilidad?",
    explanation: {
        vulnerability: "DescripciÃ³n...",
        exploitation: "CÃ³mo explotar...",
        mitigation: "CÃ³mo mitigar...",
        secureCode: "subprocess.run([user_input], shell=False)"
    },
    references: ["https://cwe.mitre.org/data/definitions/78.html"],
    metadata: {
        author: "Tu Nombre",
        dateCreated: "2024-01-01",
        lastModified: "2024-01-01",
        tags: ["command-injection", "python"]
    }
}
```

### Personalizar Estilos

Los estilos CSS estÃ¡n en `vulnerability-analyzer.html`. Variables CSS principales:

```css
:root {
    --primary-color: #2563eb;
    --success-color: #10b981;
    --error-color: #ef4444;
    --warning-color: #f59e0b;
    /* ... mÃ¡s variables */
}
```

### Configurar Lenguajes

Para agregar soporte a nuevos lenguajes, actualizar:

1. **CodeRenderer**: Agregar mapping en `languageMap`
2. **HTML**: Incluir script de highlight.js para el lenguaje
3. **QuestionManager**: Agregar a `supportedLanguages`

## ğŸŒ IntegraciÃ³n con Quiz Existente

El analizador estÃ¡ diseÃ±ado para complementar el quiz existente:

### NavegaciÃ³n Cruzada
```html
<!-- En quiz.html -->
<a href="vulnerability-analyzer.html">ğŸ” Analizador de CÃ³digo</a>

<!-- En vulnerability-analyzer.html -->
<a href="quiz.html">ğŸ“ Quiz TeÃ³rico</a>
```

### Estilos Compartidos
- Misma paleta de colores
- TipografÃ­a consistente
- Componentes de navegaciÃ³n similares
- Responsive design coherente

### Datos Compartidos
- Progreso del usuario (localStorage)
- EstadÃ­sticas combinadas
- CategorÃ­as de vulnerabilidades alineadas

## ğŸ“ˆ MÃ©tricas y Analytics

### EstadÃ­sticas Disponibles
- **Total de preguntas** disponibles y filtradas
- **Preguntas completadas** por el usuario
- **Respuestas correctas** y precisiÃ³n general
- **Progreso por categorÃ­a** de vulnerabilidad
- **Tiempo promedio** por pregunta (futuro)

### Datos de Progreso
```javascript
userProgress = {
    completed: Set([1, 2, 3]),
    correct: Set([1, 3]),
    incorrect: Set([2]),
    categoryProgress: Map({
        'sql-injection': { total: 5, completed: 2, correct: 1 },
        'xss': { total: 3, completed: 1, correct: 1 }
    })
}
```

## ğŸ”® Roadmap Futuro

### Funcionalidades Planificadas

#### Corto Plazo
- [ ] **Tests comprehensivos** (property-based, E2E)
- [ ] **MÃ¡s preguntas** (objetivo: 50+ vulnerabilidades, actualmente 13)
- [ ] **Persistencia de progreso** (localStorage/servidor)
- [ ] **Modo examen** con tiempo limitado

#### Mediano Plazo
- [ ] **Editor de cÃ³digo** para correcciÃ³n en vivo
- [ ] **Hints progresivos** para estudiantes
- [ ] **GamificaciÃ³n** con puntos y logros
- [ ] **AnÃ¡lisis de patrones** de errores comunes

#### Largo Plazo
- [ ] **IA para generaciÃ³n** de preguntas automÃ¡ticas
- [ ] **IntegraciÃ³n con IDEs** como extensiÃ³n
- [ ] **ColaboraciÃ³n multi-usuario** para equipos
- [ ] **API pÃºblica** para integraciÃ³n externa

### Mejoras TÃ©cnicas
- [ ] **Web Workers** para anÃ¡lisis de cÃ³digo pesado
- [ ] **Service Worker** para funcionamiento offline
- [ ] **WebAssembly** para anÃ¡lisis estÃ¡tico real
- [ ] **Progressive Web App** (PWA) capabilities

## ğŸ¤ ContribuciÃ³n

### CÃ³mo Contribuir

1. **Reportar bugs** usando GitHub Issues
2. **Sugerir funcionalidades** con casos de uso detallados
3. **Agregar preguntas** siguiendo el formato establecido
4. **Mejorar documentaciÃ³n** y ejemplos
5. **Escribir tests** para nuevas funcionalidades

### EstÃ¡ndares de CÃ³digo

- **JavaScript ES6+** con sintaxis moderna
- **Comentarios JSDoc** para funciones pÃºblicas
- **Nombres descriptivos** para variables y funciones
- **SeparaciÃ³n de responsabilidades** entre componentes
- **Manejo de errores** robusto con try-catch
- **Accesibilidad** como requisito, no opciÃ³n

### Estructura de Commits

```
feat: Agregar soporte para vulnerabilidades de Python
fix: Corregir escape de HTML en feedback
docs: Actualizar README con nuevas funcionalidades
test: Agregar tests para SelectionManager
style: Mejorar responsive design en mÃ³viles
```

## ğŸ“„ Licencia

Este proyecto mantiene la misma licencia que el quiz principal. Ver archivo LICENSE para detalles.

## ğŸ™ Agradecimientos

- **highlight.js** por el excelente soporte de sintaxis
- **OWASP** por las categorÃ­as de vulnerabilidades
- **CWE/MITRE** por la clasificaciÃ³n de debilidades
- **Comunidad de seguridad** por los ejemplos y referencias

---

**Desarrollado con â¤ï¸ para la educaciÃ³n en ciberseguridad**

Para mÃ¡s informaciÃ³n sobre el proyecto principal, ver [README.md](README.md).